<!doctype html>
<html>
    <head>
        <meta charset="utf-8"</meta>
        <title>options</title>
        <link rel="stylesheet" href="options.css"></link>
        <script src="angular.js" type="text/javascript"></script> 
        <script src="options.js" type="text/javascript"></script> 
    </head>
    <body>
        <div id="main">
            <div id="navigation">
                <span id='message' ng-show='message'>{{message}}</span>
                <div class='navi-item'  ng-repeat='navi in navis' ng-class='{"navi-item-active":navi.active}'  ng-mouseover='activate($index)'>
                    <span>{{navi.name}}</span>
                </div>
                <input text='text' ng-click='sync()' readonly value='sync' class='button'></input>
                <input text='text' ng-click='reset()' readonly value='reset' class='button'></input>
            </div>
            <div id="stage">
                <div id='servers' ng-show='active' class='center'>
                    <div ng-repeat='server in switchyd.config.servers'>
                        <select ng-model='server.type'>
                            <option ng-repeat='type in ["SOCKS5","PROXY"]'>{{type}}</option>
                        </select>
                        <span>
                            <input type='text' ng-model='server.ip'></input>:<input type='text' ng-model='server.port'></input>
                            <text class='clickable' ng-click='insert(server,$index,switchyd.config.servers)'>+</text>
                            <text class='clickable' ng-click='remove($index,switchyd.config.servers)'>-</text>
                        </span>
                    </div>
                </div>
                <div id='proxy-list' ng-show='active' class='center'>
                    <div ng-repeat='url in urls'>
                        <input class='url-box' type='text' ng-model='url.url' ng-change='urls[$index].url=url.url'></input>
                        <text class='clickable' ng-click='insert(url,$index,urls)'>+</text>
                        <text class='clickable' ng-click='remove($index,urls)'>-</text>
                    </div>
                </div>
                <div id='white-list' ng-show='active' class='center'>
                    <div ng-repeat='url in urls'>
                        <input class='url-box' type='text' ng-model='url.url' ng-change='urls[$index].url=url.url'></input>
                        <text class='clickable' ng-click='insert(url,$index,urls)'>+</text>
                        <text class='clickable' ng-click='remove($index,urls)'>-</text>
                    </div> 
                </div>
                <div id="rules" ng-show='active' class='center'>
                    <div ng-repeat='rule in rules'>
                        <input class='url-box' type='text' ng-model='rule.rule.name' ng-change='rules[$index].rule.name = rule.rule.name'></input><span readonly> meet for {{rule.rule.count}} times</span>
                        <text class='clickable' ng-click='insert(rule,$index,rules)'>+</text>
                        <text class='clickable' ng-click='remove($index,rules)'>-</text>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
