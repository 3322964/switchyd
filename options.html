<!doctype html>
<html>
    <head>
        <meta charset="utf-8"</meta>
        <title>options</title>
        <link rel="stylesheet" href="options.css"></link>
        <script src="options.js" type="text/javascript"></script> 
    </head>
    <body>
        <div id="main">
            <div id="navigation">
                <span id='message' ng-show='message'>{{message}}</span>
                <div class='navi-item'  ng-repeat='navi in navis' ng-class='{"navi-item-active":navi.active}'  ng-mouseover='activate($index)'>
                    <span>{{navi.name}}</span>
                </div>
                <input text='text' ng-click='sync()' readonly value='sync' class='button'></input>
            </div>
            <div id="stage">
                <div id='servers' ng-show='active' class='center'>
                    <div ng-repeat='server in switchyd.config.servers'>
                        <select ng-model='server.type'>
                            <option ng-repeat='type in ["SOCKS5","PROXY"]'>{{type}}</option>
                        </select>
                        <span>
                            <input type='text' ng-model='server.ip'></input>:<input type='text' ng-model='server.port'></input>
                            <text class='clickable' ng-click='insert(switchyd.config.servers[$index],$index,switchyd.config.servers)'>+</text>
                            <text class='clickable' ng-click='switchyd.config.servers.splice($index,1)'>-</text>
                        </span>
                    </div>
                </div>
                <div id='proxy-list' ng-show='active' class='center'>
                    <div ng-repeat='url in urls'>
                        <input class='url-box' type='text' ng-model='url' ng-change='editing($index,url)></input>
                        <text class='clickable' ng-click='insertURL($index)'>+</text>
                        <text class='clickable' ng-click='removeURL($index)'>-</text>
                    </div> 
                </div>
                <div id='white-list' ng-show='active' class='center'>
                    <div ng-repeat='url in urls'>
                        <input class='url-box' type='text' ng-model='url' ng-change='editing($index,url)'></input>
                        <text class='clickable' ng-click='insertURL($index)'>+</text>
                        <text class='clickable' ng-click='removeURL($index)'>-</text>
                    </div> 
                </div>
                <div id="rules" ng-show='active' class='center'>
                    <div ng-repeat='(name,count) in switchyd.config.rules'>
                        <input class='url-box' type='text' value='{{name}}'></input><span readonly> meet for {{count}} times</span>
                        <text class='clickable' ng-click='switchyd.config.rules["new-rule"] = 0'>+</text>
                        <text class='clickable' ng-click='remove(name)'>-</text>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
